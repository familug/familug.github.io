<!DOCTYPE html>
<html lang="vi">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="./theme/css/elegant.prod.9e9d5ce754.css" media="screen">
        <link rel="stylesheet" type="text/css" href="./theme/css/custom.css" media="screen">

        <link rel="dns-prefetch" href="//fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>

        <meta name="author" content="hvn" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="go, golang, bashgodaily, pitfall, map, frontpage, " />

<meta property="og:title" content="Go value receiver method v·∫´n thay ƒë·ªïi ƒë∆∞·ª£c gi√° tr·ªã?! "/>
<meta property="og:url" content="./go-value-receiver-method-van-thay-doi-duoc-gia-tri.html" />
<meta property="og:description" content="B√†i vi·∫øt ƒë·∫ßu ti√™n c·ªßa nhi·ªÅu b√†i vi·∫øt s·∫Ω b√°n than v·ªÅ &#34;Go&#34; - ng√¥n ng·ªØ l·∫≠p tr√¨nh non tr·∫ª (since 2010) nh∆∞ng kh√° hot tr√™n to√†n c·∫ßu. Go is simple Go th∆∞·ªùng ƒë∆∞·ª£c nh√¨n nh·∫≠n l√† &#34;ƒë∆°n gi·∫£n&#34;, kh√¥ng ph·ªß nh·∫≠n vi·ªác l√†m xong gotour https://go.dev/tour/ khi·∫øn ‚Ä¶" />
<meta property="og:site_name" content="FAMILUG.org Vietnam" />
<meta property="og:article:author" content="hvn" />
<meta property="og:article:published_time" content="2023-01-27T00:00:00+07:00" />
<meta name="twitter:title" content="Go value receiver method v·∫´n thay ƒë·ªïi ƒë∆∞·ª£c gi√° tr·ªã?! ">
<meta name="twitter:description" content="B√†i vi·∫øt ƒë·∫ßu ti√™n c·ªßa nhi·ªÅu b√†i vi·∫øt s·∫Ω b√°n than v·ªÅ &#34;Go&#34; - ng√¥n ng·ªØ l·∫≠p tr√¨nh non tr·∫ª (since 2010) nh∆∞ng kh√° hot tr√™n to√†n c·∫ßu. Go is simple Go th∆∞·ªùng ƒë∆∞·ª£c nh√¨n nh·∫≠n l√† &#34;ƒë∆°n gi·∫£n&#34;, kh√¥ng ph·ªß nh·∫≠n vi·ªác l√†m xong gotour https://go.dev/tour/ khi·∫øn ‚Ä¶">

        <title>Go value receiver method v·∫´n thay ƒë·ªïi ƒë∆∞·ª£c gi√° tr·ªã?!  ¬∑ FAMILUG.org Vietnam
</title>



    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="./"><span class=site-name>FAMILUG.org Vietnam</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       .
                                    >Home</a>
                                </li>
                                <li ><a href="./categories.html">Categories</a></li>
                                <li ><a href="./tags.html">Tags</a></li>
                                <li ><a href="./archives.html">Archives</a></li>
                                <li><form class="navbar-search" action="./search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="./go-value-receiver-method-van-thay-doi-duoc-gia-tri.html">
                Go value receiver method v·∫´n thay ƒë·ªïi ƒë∆∞·ª£c gi√° tr·ªã?!
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <p>B√†i vi·∫øt ƒë·∫ßu ti√™n c·ªßa nhi·ªÅu b√†i vi·∫øt s·∫Ω b√°n than v·ªÅ "Go" - ng√¥n ng·ªØ l·∫≠p tr√¨nh
non tr·∫ª (since 2010) nh∆∞ng kh√° hot tr√™n to√†n c·∫ßu.</p>
<h3>Go is simple</h3>
<p>Go th∆∞·ªùng ƒë∆∞·ª£c nh√¨n nh·∫≠n l√† "ƒë∆°n gi·∫£n", kh√¥ng ph·ªß nh·∫≠n vi·ªác l√†m xong gotour <a href="https://go.dev/tour/">https://go.dev/tour/</a> khi·∫øn ng∆∞·ªùi h·ªçc c√≥ th·ªÉ b·∫Øt ƒë·∫ßu vi·∫øt code go, sau 1 th√°ng c√≥ th·ªÉ tham gia code production (v√† vi·∫øt bug).</p>
<p>C√≥ h·∫≥n cu·ªën s√°ch gi√° c·∫£ tri·ªáu ƒë·ªìng b√°n r·∫•t ch·∫°y v·ªÅ nh·ªØng mistake khi d√πng
ng√¥n ng·ªØ ƒë∆°n gi·∫£n n√†y <a href="https://www.manning.com/books/100-go-mistakes-and-how-to-avoid-them">100 Go Mistakes and How to Avoid
Them</a>.</p>
<p>Kh√¥ng d√πng th√¨ th√¥i, sao ph·∫£i ch√™, th√≠ch chi·∫øn √†?</p>
<p>C√≥ m·ªôt s·ª± th·∫≠t ƒëi l√†m kh√° l√¢u m·ªõi nh·∫≠n ra, r·∫±ng 99.99% <strong>B·∫†N</strong> kh√¥ng ph·∫£i ng∆∞·ªùi quy·∫øt ƒë·ªãnh c√¥ng ty/d·ª± √°n d√πng c√°i g√¨. Nh·ªØng ng∆∞·ªùi/th·ª© quy·∫øt ƒë·ªãnh s·∫Ω l√†:</p>
<ul>
<li>c√¥ng ngh·ªá c√≥ s·∫µn c·ªßa c√¥ng ty</li>
<li>c√¥ng ngh·ªá quen thu·ªôc c·ªßa team</li>
<li>b√™n tr√™n ch·ªâ xu·ªëng (CTO/architect...)</li>
<li>kh√°ch h√†ng y√™u c·∫ßu</li>
</ul>
<p>v·∫≠y n√™n th√≠ch hay kh√¥ng v·∫´n ph·∫£i d√πng. M√† d√πng kh√¥ng s∆∞·ªõng th√¨ ph√™ b√¨nh th√¥i.
<img alt="map bug" src="./images/go_map_bug.webp"></p>
<h3>Go pointer receiver vs value receiver</h3>
<p>Go receiver c√≥ 2 lo·∫°i l√† pointer v√† value.</p>
<p>Tr√≠ch t·ª´ Go tour <a href="https://go.dev/tour/methods/4">https://go.dev/tour/methods/4</a></p>
<blockquote>
<p>Methods with pointer receivers can modify the value to which the receiver points (as Scale does here). Since methods often need to modify their receiver, pointer receivers are more common than value receivers.</p>
</blockquote>
<p>v√† <a href="https://go.dev/tour/methods/8">Choosing a value or pointer receiver</a></p>
<blockquote>
<p>There are two reasons to use a pointer receiver.
The first is so that the method can modify the value that its receiver points to.
The second is to avoid copying the value on each method call. This can be more efficient if the receiver is a large struct, for example.</p>
</blockquote>
<p>Theo h∆∞·ªõng d·∫´n n√†y, ng∆∞·ªùi h·ªçc Go s·∫Ω hi·ªÉu r·∫±ng khi vi·∫øt</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="kd">type</span><span class="p">)</span><span class="w"> </span><span class="nx">name</span><span class="p">(</span><span class="nx">args</span><span class="p">)</span><span class="w"></span>
</code></pre></div>

<p>th√¨ c√≥ th·ªÉ thay ƒë·ªïi t</p>
<p>v√†</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="kd">type</span><span class="p">)</span><span class="w"> </span><span class="nx">name</span><span class="p">(</span><span class="nx">args</span><span class="p">)</span><span class="w"></span>
</code></pre></div>

<p>th√¨ kh√¥ng th·ªÉ thay ƒë·ªïi t.</p>
<p>Ngo√†i ra, trong Go tour kh√¥ng c√≤n ch·ªó n√†o ghi th√™m g√¨ n·ªØa.</p>
<p>Th·ª≠ v√≠ d·ª• sau, ƒë·ª´ng √¥m ƒë·∫ßu k√™u ƒëau:</p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">main</span><span class="w"></span>

<span class="kn">import</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="s">&quot;fmt&quot;</span><span class="w"></span>
<span class="p">)</span><span class="w"></span>

<span class="kd">type</span><span class="w"> </span><span class="nx">toy</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">names</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="w"></span>
<span class="w">    </span><span class="nx">ages</span><span class="w">  </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">toy</span><span class="p">)</span><span class="w"> </span><span class="nx">change</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">t</span><span class="p">.</span><span class="nx">names</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">append</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">names</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;python&quot;</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">t</span><span class="p">.</span><span class="nx">ages</span><span class="p">[</span><span class="s">&quot;python&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">32</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="nx">toy</span><span class="p">)</span><span class="w"> </span><span class="nx">mayNotChange</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">t</span><span class="p">.</span><span class="nx">names</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">append</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">names</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;python&quot;</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">t</span><span class="p">.</span><span class="nx">ages</span><span class="p">[</span><span class="s">&quot;python&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">32</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">toy</span><span class="p">{</span><span class="nx">ages</span><span class="p">:</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="s">&quot;golang&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">}}</span><span class="w"></span>
<span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%v\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">t</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">t</span><span class="p">.</span><span class="nx">change</span><span class="p">()</span><span class="w"></span>
<span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%v\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">t</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">t2</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">toy</span><span class="p">{</span><span class="nx">ages</span><span class="p">:</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="s">&quot;golang&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">}}</span><span class="w"></span>
<span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%v\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">t2</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">t2</span><span class="p">.</span><span class="nx">mayNotChange</span><span class="p">()</span><span class="w"></span>
<span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%v\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">t2</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>ch·∫°y online tr√™n <a href="https://go.dev/play/p/N781b6vT-GF">https://go.dev/play/p/N781b6vT-GF</a></p>
<p>Theo t√†i li·ªáu Go tour, change nh·∫≠n 1 pointer receiver n√™n s·∫Ω thay ƒë·ªïi toy t v√† k·∫øt qu·∫£ kh√¥ng c√≥ g√¨ b·∫•t ng·ªù khi map gi·ªù ch·ª©a th√™m python 32.</p>
<p>Nh∆∞ng trong mayNotChange, trong khi slice t.names kh√¥ng ƒë·ªïi th√¨ map t.ages v·∫´n b·ªã thay ƒë·ªïi d√π cho ƒë√£ d√πng value receiver.</p>
<div class="highlight"><pre><span></span><code><span class="p">{[]</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="nx">golang</span><span class="p">:</span><span class="mi">12</span><span class="p">]}</span><span class="w"></span>
<span class="p">{[</span><span class="nx">python</span><span class="p">]</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="nx">golang</span><span class="p">:</span><span class="mi">12</span><span class="w"> </span><span class="nx">python</span><span class="p">:</span><span class="mi">32</span><span class="p">]}</span><span class="w"></span>
<span class="o">====================================</span><span class="w"></span>
<span class="p">{[]</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="nx">golang</span><span class="p">:</span><span class="mi">12</span><span class="p">]}</span><span class="w"></span>
<span class="p">{[]</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="nx">golang</span><span class="p">:</span><span class="mi">12</span><span class="w"> </span><span class="nx">python</span><span class="p">:</span><span class="mi">32</span><span class="p">]}</span><span class="w"></span>
</code></pre></div>

<h3>Golang map l√† reference</h3>
<p>Trong <a href="https://go.dev/doc/effective_go#maps">Effective Go</a> c√≥ vi·∫øt</p>
<blockquote>
<p>Like slices, maps hold references to an underlying data structure. If you pass a map to a function that changes the contents of the map, the changes will be visible in the caller.</p>
</blockquote>
<p>map refers t·ªõi c·∫•u tr√∫c d·ªØ li·ªáu b√™n d∆∞·ªõi, thay ƒë·ªïi map s·∫Ω thay ƒë·ªïi c·∫•u tr√∫c d·ªØ li·ªáu ƒë√≥, c√≤n b·∫£n th√¢n map l√† 1 reference, kh√¥ng thay ƒë·ªïi, ƒë√∫ng nh∆∞ value receiver cam k·∫øt.</p>
<p>B√†i t·∫≠p cho b·∫°n ƒë·ªçc: slice c≈©ng l√† reference, sao map thay ƒë·ªïi c√≤n slice th√¨ kh√¥ng khi d√πng value receiver? (ƒë√°p √°n xem cu·ªëi b√†i)</p>
<p>Th√™m 1 √≠t t√†i li·ªáu v·ªÅ 3 ki·ªÉu references: slice, map, channel <a href="https://go.dev/doc/effective_go#allocation_make">https://go.dev/doc/effective_go#allocation_make</a></p>
<blockquote>
<p>Back to allocation. The built-in function make(T, args) serves a purpose different from new(T). It creates slices, maps, and channels only, and it returns an initialized (not zeroed) value of type T (not *T). The reason for the distinction is that these three types represent, under the covers, references to data structures that must be initialized before use.</p>
</blockquote>
<h3>K·∫øt lu·∫≠n</h3>
<p>Golang map l√† ki·ªÉu reference, c√≥ th·ªÉ thay ƒë·ªïi gi√° tr·ªã n√≥ refer t·ªõi b√™n trong 1 value receiver method.</p>
<p>Go th·∫≠t ƒë∆°n gi·∫£n, ha!</p>
<p>H·∫øt.</p>
<p>HVN at <a href="http://pymi.vn">http://pymi.vn</a> and <a href="https://www.familug.org">https://www.familug.org</a>.</p>
<p><a href="https://www.familug.org/p/ung-ho.html">·ª¶ng h·ªô t√°c gi·∫£ üç∫</a></p>
<p>ƒê√°p √°n: t.names = append(t.names, "python") s·∫Ω g√°n gi√° tr·ªã m·ªõi cho t.names, do d√πng value receiver n√™n kh√¥ng th·∫•y thay ƒë·ªïi g√¨.
N·∫øu thay ƒë·ªïi ph·∫ßn t·ª≠ c·ªßa slice, v√≠ d·ª• t.names[0] = "Python" th√¨ k·∫øt qu·∫£ c√≥ thay ƒë·ªïi.
T∆∞∆°ng t·ª±, n·∫øu vi·∫øt t.ages = map[string]int{} s·∫Ω th·∫•y map ages kh√¥ng thay ƒë·ªïi. Xem code t·∫°i <a href="https://go.dev/play/p/yCn-mKVpPSo">https://go.dev/play/p/yCn-mKVpPSo</a></p>


             
 
            
            
            







            <hr/>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2023-01-27T00:00:00+07:00">Fri 27 January 2023</time>
            <h4>Category</h4>
            <a class="category-link" href="./categories.html#frontpage-ref">frontpage</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="./tags.html#bashgodaily-ref">bashgodaily
                    <span class="superscript">3</span>
</a></li>
                <li><a href="./tags.html#go-ref">go
                    <span class="superscript">12</span>
</a></li>
                <li><a href="./tags.html#golang-ref">golang
                    <span class="superscript">6</span>
</a></li>
                <li><a href="./tags.html#map-ref">map
                    <span class="superscript">2</span>
</a></li>
                <li><a href="./tags.html#pitfall-ref">pitfall
                    <span class="superscript">5</span>
</a></li>
            </ul>
<h4>Contact</h4>
<div id="sidebar-social-link">
</div>
            





            





        </section>
</div>
</article>
<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script src="./theme/js/elegant.prod.9e9d5ce754.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>